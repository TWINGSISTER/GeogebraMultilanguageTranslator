<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Start Geogebra Translator</title>
  </head>
  <body>
    <h3 style="text-align: justify;">How to start the One Step Adapter (OSA)</h3>
    <p style="text-align: justify;">Click below to start Geogebra OSA in Version
      5.0. Particular builds of GGB is used:</p>
    <ul style="text-align: justify;">
      <li><a href="index-private-latest-OSA.html" target="_blank">Latest Build
          generated by GitHub Actions (now 720)</a></li>
    </ul>
    <p style="text-align: justify;">GGB builds generated by GitHub Actions are
      available as releases in <a href="https://github.com/TWINGSISTER/Geogebra-Javascript-Bundle"
        target="_blank">this repository</a>.&nbsp; </p>
    <h3 style="text-align: justify;">How to use the OSA</h3>
    <p style="text-align: justify;">The OSA&nbsp; starts as a Geogebra page. To
      obtain a OSAed version of SomeName.ggb file one has to fill the input
      boxes&nbsp; and click the button <span style="color: red;">"Select Files"</span>.
      Then a file picker comes up and you can select one or more files
      SomeName.ggb. </p>
    <p style="text-align: center;"><img src="OSAmask.jpg" alt="" style="width: 657px; height: 283px;"></p>
    <br>
    <p>The service do his work and then&nbsp; prompts to download&nbsp; the
      OSAed&nbsp; ggbs that are the adapted versions of the input ggbs. The user
      can specify with "<span style="color: red;">Output Filename Suffix</span>"&nbsp;
      ONE suffix to be added to the output filenames.&nbsp; Here are the
      meanings of the input fields. When the situation requires more inputs they
      can be given as a comma separated list. If the situation requires a list
      of lists you can put a comma separated list of pipe (|) separated lists.
      For instance as in "Valider|Delete[Valider],Bouton2|Delete[Bouton2]" where
      one finds the two couples Valider|Delete[Valider] and
      Bouton2|Delete[Bouton2]. Here is the list of input fields and their
      meaning: </p>
    <ul>
      <li><span style="color: red;">Name or caption of deleted objects</span>:
        the given list of strings are taken as GGB objects name that must be
        deleted. If they are not found then the OSA searches for objects that
        have these strings as captions. If nothing is found no action is taken
        and the OSA proceeds. </li>
      <li><span style="color: red;">Name or caption for appended code</span>: a
        list of couples, e.g. a|code1,b|code2,c|code3 is required. Then OSA
        searches for objects (named or with caption) a,b,c and append the
        string&nbsp; code1 (for a), code2 (for b etc.) to the script associated
        with the object. What actually happens depends much on the GGB
        internals. Please consider that if the object a has a GGB script then
        string code1 must be a valid GGB script fragment (not a JS fragment).
        The type of the object also plays a big role. For buttons the code goes
        to&nbsp; the onclick script.</li>
      <li><span style="color: red;">Name or caption for substituted code</span>:
        similar to the previous field. The existing code is deleted and the
        given code&nbsp; is placed instead of it.</li>
      <li><span style="color: red;">Libraries</span>: a list of strings that are
        taken as URLs for JS files that will be&nbsp; loaded by the OASed GGB
        activity when launched. These files ARE NOT loaded when running this OAS
        service.</li>
      <li><span style="color: red;">Output Filename Suffix</span>: just one
        string e.g. "-one" and the output of processing foo.ggb will be
        foo-one.ggb</li>
      <li><span style="color: red;">Init code</span>: a string with a JS
        fragment that will be added to the initialization code run by the OASed
        .ggb when starting.</li>
      <li><span style="color: red;">Initialization Functions</span>: a list of
        strings that are the names of the functions that are needed in the
        initialization code. The code for these functions is scanned to find
        other functions names that are needed. If some functions are needed in
        other places put them in this list. To limit the number of functions to
        be searched the filter in the field "<span style="color: red;">Filter</span>"
        is applied. The Filter is a list of strings that acts as prefixes. If
        the Filter is, for instance, "RT_,ST_" only functions starting with RT_
        and ST_ are included.</li>
      <li><span style="color: red;">Buttons to add</span>: a list of triples
        e.g. name|caption|code,n1|c1|sw1. creates button named n1 with caption
        c1 and with handler given as the function named sw1</li>
    </ul>
    <p style="text-align: justify; background-color: white;"><i>In particular
        the choice in the example will give files SomeName-one.ggb decorated
        with an additional button LOG that you can use to output a html file (by
        function RT_R_DocHndl) with the snapshot taken with the function
        RT_R_oneHndl2 linked to the button Bouton2 in the initialization
        code.This snapshot the GGB exercise situation every time Bouton2 is
        pressed.&nbsp; The other code ensures that Bouton2 is deleted upon the
        first&nbsp; click. For completeness let's add that RT_R_oneHndl2
        snapshot both Graphics and Graphics2 views while there is provision in
        the code for the function RT_R_oneHndl that just snapshots Graphics.</i></p>
    You can find an example of the resulting GGB activity <a href="example.html"
      target="_blank">here</a> that is taken from <a href="http://www.lycee-valin.fr/maths/exercices_en_ligne/moodle.html"
      target="_blank">this site</a>. <br>
    <h3 style="text-align: justify;">Browser problems</h3>
    <p style="text-align: justify;">The translator tool works only in the
      Geogebra web version some&nbsp; problems might come from security
      limitations of the browser. You can circumvent it by running the Geogebra
      applet in Chrome with the option `--disable-site-isolation-trials
      --disable-web-security` e.g. in Windows </p>
    <div style="text-align: justify;">
      <pre>"C:\Program Files (x86)\Google\Chrome\Application\chrome.exe" --disable-site-isolation-trials --disable-web-security --user-data-dir="I:\temp"</pre>
    </div>
    <p style="text-align: justify;"> For Chrome you might try also
      --disable-web-security --allow-no-sandbox-job
      --allow-sandbox-debugging&nbsp; --no-sandbox&nbsp;
      --no-sandbox-and-elevated&nbsp; --no-zygote --no-zygote-sandbox
      --run-without-sandbox-for-testing --disable-popup-blocking&nbsp;&nbsp;
      --user-data-dir="I:\temp" they could help. </p>
    <p style="text-align: justify;">The file index&lt;somename&gt;.html loads
      the GGB application and the GGB activity `valinonestep.ggb` into a GGB
      Applet that runs in a browser. Loading could be slow. While debugging you
      can re-initialize the translator from the GGB File menu by reloading the
      `valinonestep.ggb` file.</p>
    <h3 style="text-align: justify;">Eclipse Repository</h3>
    <p style="text-align: justify;">This project was developed and maintained
      using Eclipse and Egit. Not all the files have a&nbsp; clear meaning. The
      repository is undoubtedly messy. Nevertheless the repository contains all
      files generated by Eclipse. By forking this in GitHub and by cloning your
      fork directly from&nbsp; GitHub into Eclipse with a Egit clone operation
      you will get an Eclipse project to modify and develop this package on your
      own. If you feel that later on you can cooperate with us&nbsp; branch your
      project locally this will make your contribution later submit-able as a
      pull request. The `.launch` files you will find in this repo must be
      imported into Eclipse separately to get debug configurations. </p>
    <ul style="text-align: justify;">
    </ul>
  </body>
</html>
